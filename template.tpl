// Copyright 2019 WonderPush SAS

// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at

//     https://www.apache.org/licenses/LICENSE-2.0

// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "WonderPush - Track event",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAIAAADTED8xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowOTVDOUE5RjlGRTIxMUU5QkQ1MTg1M0IyQjI2REVFRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowOTVDOUFBMDlGRTIxMUU5QkQ1MTg1M0IyQjI2REVFRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5NUM5QTlEOUZFMjExRTlCRDUxODUzQjJCMjZERUVFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA5NUM5QTlFOUZFMjExRTlCRDUxODUzQjJCMjZERUVFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/GJUvgAAHudJREFUeNrsXVlz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\u003d\u003d"
  },
  "description": "Track user events into WonderPush, in order to target push notifications based on user activity.\nRequires the \"WonderPush - Integrate Web Push Notifications\" template.",
  "categories": ["MARKETING", "REMARKETING", "SALES"],
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "type",
    "displayName": "Type",
    "simpleValueType": true,
    "help": "Any identifier you want, cannot start with an @.\nSee https://docs.wonderpush.com/docs/events#section-your-own-events for more information."
  },
  {
    "type": "PARAM_TABLE",
    "name": "attributes",
    "displayName": "Attributes",
    "paramTableColumns": [
      {
        "param": {
          "type": "TEXT",
          "name": "attribute",
          "displayName": "Attribute",
          "simpleValueType": true,
          "help": "You must use the appropriate type prefix.\nSee https://docs.wonderpush.com/docs/properties#section-property-names for more information."
        },
        "isUnique": false
      },
      {
        "param": {
          "type": "TEXT",
          "name": "value",
          "displayName": "Value",
          "simpleValueType": true
        },
        "isUnique": false
      }
    ],
    "help": "See https://docs.wonderpush.com/docs/events#section-event-attributes for more information."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const createQueue = require('createQueue');
const makeInteger = require('makeInteger');
const makeNumber = require('makeNumber');

const WonderPush_push = createQueue('WonderPush');

const type = data.type;
const attributes = data.attributes || [];
const builtAttributes = {};

attributes.forEach(function(item) {
  const underscorePos = item.attribute.indexOf('_');
  const prefix = item.attribute.substring(0, underscorePos);
  switch (prefix) {
    case 'byte':
    case 'short':
    case 'int':
    case 'long':
      item.value = makeInteger(item.value);
      break;
    case 'float':
    case 'double':
      item.value = makeNumber(item.value);
      break;
    case 'bool':
      item.value = item.value.trim().toLocaleLowerCase() === 'true';
      break;
    case 'date':
      if (item.value.match('^[0-9]{1,13}$') != null) {
        item.value = makeInteger(item.value);
      }
      break;
  }
  builtAttributes[item.attribute] = item.value;
});

WonderPush_push(['trackEvent', type, builtAttributes]);

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "WonderPush"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 12/10/2019, 9:18:07 AM


